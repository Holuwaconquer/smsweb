<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Femzy</title>
    <link rel="stylesheet" href="../css/dashboard.css" />
    <link rel="stylesheet" href="../css/admin.css" />
    <link rel="stylesheet" href="../css/chatbot.css" />
  </head>
  <body>
    <!-- Professional Header -->
    <header class="admin-header">
      <div class="header-content">
        <div class="header-left">
          <button class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
          </button>
          <button
            class="back-button"
            onclick="window.location.href = '../dashboard/index.html'"
          >
            <span>â†</span>
          </button>
          <div class="logo">
            <div class="logo-icon">F</div>
            <span>Femzy Admin</span>
          </div>
        </div>
        <div class="header-right">
          <div
            style="
              display: flex;
              align-items: center;
              gap: 10px;
              margin-right: 20px;
              background: rgba(0, 0, 0, 0.05);
              padding: 5px 15px;
              border-radius: 20px;
            "
          >
            <span style="font-size: 12px; font-weight: 700">Maintenance</span>
            <label class="toggle-switch" style="transform: scale(0.8)">
              <input type="checkbox" id="maintenanceToggle" />
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="user-info">
            <span class="user-role">Administrator</span>
          </div>
          <button class="theme-toggle" id="themeToggle">ğŸŒ™</button>
        </div>
      </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-title">Admin Menu</div>
        <a
          href="#"
          class="sidebar-link active"
          onclick="showSection('dashboard')"
        >
          <span class="sidebar-icon">ğŸ“Š</span>
          <span>Dashboard</span>
        </a>
        <a href="#" class="sidebar-link" onclick="showSection('users')">
          <span class="sidebar-icon">ğŸ‘¥</span>
          <span>Users</span>
        </a>
        <a href="#" class="sidebar-link" onclick="showSection('transactions')">
          <span class="sidebar-icon">ğŸ’°</span>
          <span>Transactions</span>
        </a>
        <a href="#" class="sidebar-link" onclick="showSection('inventory')">
          <span class="sidebar-icon">ğŸ“±</span>
          <span>Inventory</span>
        </a>
        <a href="pricing.html" class="sidebar-link">
          <span class="sidebar-icon">ğŸ’¸</span>
          <span>Price Control</span>
        </a>
        <a href="#" class="sidebar-link" onclick="showSection('logs')">
          <span class="sidebar-icon">ğŸ“œ</span>
          <span>Security Logs</span>
        </a>
      </div>
      <div class="sidebar-section">
        <a href="../dashboard/index.html" class="sidebar-link">
          <span class="sidebar-icon">â¬…ï¸</span>
          <span>Back to Dashboard</span>
        </a>
        <a href="#" class="sidebar-link" id="logoutBtnSidebar">
          <span class="sidebar-icon">ğŸšª</span>
          <span>Logout</span>
        </a>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
      <div class="admin-container">
        <!-- Welcome Section -->
        <div class="welcome-section">
          <h1>Admin Dashboard</h1>
          <p>Manage users, services, and system settings</p>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section">
          <!-- Metrics Cards -->
          <div class="metrics-grid">
            <div class="metric-card revenue">
              <div class="metric-icon">ğŸ’°</div>
              <div class="metric-content">
                <div class="metric-value" id="totalRevenue">â‚¦0</div>
                <div class="metric-label">Total Revenue</div>
                <div class="metric-change positive">
                  <span>Live Data</span>
                </div>
              </div>
            </div>

            <div class="metric-card users">
              <div class="metric-icon">ğŸ‘¥</div>
              <div class="metric-content">
                <div class="metric-value" id="totalUsers">0</div>
                <div class="metric-label">Total Users</div>
                <div class="metric-change positive">
                  <span>Active</span>
                </div>
              </div>
            </div>

            <div class="metric-card numbers">
              <div class="metric-icon">ğŸ“±</div>
              <div class="metric-content">
                <div class="metric-value" id="totalNumbers">0</div>
                <div class="metric-label">SMS Numbers</div>
                <div class="metric-change neutral">
                  <span>In System</span>
                </div>
              </div>
            </div>

            <div class="metric-card boosts">
              <div class="metric-icon">ğŸš€</div>
              <div class="metric-content">
                <div class="metric-value" id="totalBoosts">0</div>
                <div class="metric-label">Social Boosts</div>
                <div class="metric-change neutral">
                  <span>Orders</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Stats Panels -->
          <div class="panels-grid">
            <div class="panel">
              <div class="panel-header">
                <h2>ğŸ“Š Quick Stats</h2>
              </div>
              <div class="panel-content">
                <div class="stat-row">
                  <span>Today's Revenue</span>
                  <strong id="todayRevenue">â‚¦0.00</strong>
                </div>
                <div class="stat-row">
                  <span>Today's Transactions</span>
                  <strong id="todayTransactions">0</strong>
                </div>
                <div class="stat-row">
                  <span>Active SMS Numbers</span>
                  <strong id="activeNumbers">0</strong>
                </div>
                <div class="stat-row">
                  <span>Pending Orders</span>
                  <strong id="pendingOrders">0</strong>
                </div>
              </div>
            </div>

            <div class="panel">
              <div class="panel-header">
                <h2>ğŸ¯ System Health</h2>
              </div>
              <div class="panel-content">
                <div class="stat-row">
                  <span>Database Status</span>
                  <strong style="color: #43e97b">â— Online</strong>
                </div>
                <div class="stat-row">
                  <span>Last Update</span>
                  <strong id="lastUpdate">Just now</strong>
                </div>
                <div class="stat-row">
                  <span>Total Records</span>
                  <strong id="totalRecords">0</strong>
                </div>
                <div class="stat-row">
                  <span>Auto-Refresh</span>
                  <strong style="color: #43e97b">â— Enabled</strong>
                </div>
              </div>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="panel">
            <div class="panel-header">
              <h2>ğŸ• Recent Transactions</h2>
              <button
                class="btn-secondary"
                onclick="showSection('transactions')"
              >
                View All
              </button>
            </div>
            <div class="panel-content">
              <div id="recentTransactions">
                <p style="text-align: center; color: #999; padding: 20px">
                  Loading...
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Users Section -->
        <div id="users-section" style="display: none">
          <div class="panel">
            <div class="panel-header">
              <h2>ğŸ‘¥ All Users</h2>
              <button class="btn-secondary" onclick="refreshUsers()">
                ğŸ”„ Refresh
              </button>
            </div>
            <div class="panel-content">
              <div style="overflow-x: auto">
                <table style="width: 100%; border-collapse: collapse">
                  <thead>
                    <tr
                      style="
                        background: rgba(102, 126, 234, 0.05);
                        text-align: left;
                      "
                    >
                      <th style="padding: 12px; font-weight: 600">Email</th>
                      <th style="padding: 12px; font-weight: 600">Username</th>
                      <th style="padding: 12px; font-weight: 600">Balance</th>
                      <th style="padding: 12px; font-weight: 600">Joined</th>
                      <th style="padding: 12px; font-weight: 600">Admin</th>
                    </tr>
                  </thead>
                  <tbody id="usersTableBody">
                    <tr>
                      <td
                        colspan="5"
                        style="padding: 20px; text-align: center; color: #999"
                      >
                        Loading...
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Transactions Section -->
        <div id="transactions-section" style="display: none">
          <div class="panel">
            <div class="panel-header">
              <h2>ğŸ’° All Transactions</h2>
              <button class="btn-secondary" onclick="refreshTransactions()">
                ğŸ”„ Refresh
              </button>
            </div>
            <div class="panel-content">
              <div style="overflow-x: auto">
                <table style="width: 100%; border-collapse: collapse">
                  <thead>
                    <tr
                      style="
                        background: rgba(102, 126, 234, 0.05);
                        text-align: left;
                      "
                    >
                      <th style="padding: 12px; font-weight: 600">Date</th>
                      <th style="padding: 12px; font-weight: 600">Type</th>
                      <th style="padding: 12px; font-weight: 600">Amount</th>
                      <th style="padding: 12px; font-weight: 600">
                        Description
                      </th>
                      <th style="padding: 12px; font-weight: 600">Status</th>
                    </tr>
                  </thead>
                  <tbody id="transactionsTableBody">
                    <tr>
                      <td
                        colspan="5"
                        style="padding: 20px; text-align: center; color: #999"
                      >
                        Loading...
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Logs Section -->
        <div id="logs-section" style="display: none">
          <div class="panel">
            <div class="panel-header">
              <h2 id="logViewTitle">ğŸ“œ System Activity Logs</h2>
              <button class="btn-secondary" onclick="refreshLogs()">
                ğŸ”„ Refresh
              </button>
            </div>
            <div class="panel-content">
              <div style="overflow-x: auto">
                <table style="width: 100%; border-collapse: collapse">
                  <thead>
                    <tr
                      style="
                        background: rgba(102, 126, 234, 0.05);
                        text-align: left;
                      "
                    >
                      <th style="padding: 12px; font-weight: 600">Timestamp</th>
                      <th style="padding: 12px; font-weight: 600">Type</th>
                      <th style="padding: 12px; font-weight: 600">Action</th>
                      <th style="padding: 12px; font-weight: 600">Details</th>
                    </tr>
                  </thead>
                  <tbody id="logsTableBody">
                    <tr>
                      <td colspan="4" style="padding: 20px; text-align: center">
                        Loading logs...
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Inventory Section -->
        <div id="inventory-section" style="display: none">
          <div class="panels-grid">
            <div class="panel">
              <div class="panel-header">
                <h2>â• Add SMS Number</h2>
              </div>
              <div class="panel-content">
                <form
                  id="addNumberForm"
                  style="display: flex; flex-direction: column; gap: 16px"
                >
                  <div>
                    <label
                      style="
                        display: block;
                        margin-bottom: 8px;
                        font-weight: 600;
                        color: #4a5568;
                      "
                      >Country</label
                    >
                    <select
                      id="inventoryCountry"
                      required
                      style="
                        width: 100%;
                        padding: 12px;
                        border: 2px solid #e2e8f0;
                        border-radius: 10px;
                        font-size: 14px;
                      "
                    >
                      <option value="">Select Country</option>
                      <option value="US">United States ğŸ‡ºğŸ‡¸</option>
                      <option value="GB">United Kingdom ğŸ‡¬ğŸ‡§</option>
                      <option value="NG">Nigeria ğŸ‡³ğŸ‡¬</option>
                      <option value="CA">Canada ğŸ‡¨ğŸ‡¦</option>
                    </select>
                  </div>
                  <div>
                    <label
                      style="
                        display: block;
                        margin-bottom: 8px;
                        font-weight: 600;
                        color: #4a5568;
                      "
                      >Phone Number</label
                    >
                    <input
                      type="text"
                      id="inventoryPhone"
                      placeholder="+1234567890"
                      required
                      style="
                        width: 100%;
                        padding: 12px;
                        border: 2px solid #e2e8f0;
                        border-radius: 10px;
                        font-size: 14px;
                      "
                    />
                  </div>
                  <div>
                    <label
                      style="
                        display: block;
                        margin-bottom: 8px;
                        font-weight: 600;
                        color: #4a5568;
                      "
                      >Service</label
                    >
                    <select
                      id="inventoryService"
                      required
                      style="
                        width: 100%;
                        padding: 12px;
                        border: 2px solid #e2e8f0;
                        border-radius: 10px;
                        font-size: 14px;
                      "
                    >
                      <option value="whatsapp">WhatsApp</option>
                      <option value="telegram">Telegram</option>
                      <option value="instagram">Instagram</option>
                      <option value="google">Google</option>
                    </select>
                  </div>
                  <div>
                    <label
                      style="
                        display: block;
                        margin-bottom: 8px;
                        font-weight: 600;
                        color: #4a5568;
                      "
                      >Price (â‚¦)</label
                    >
                    <input
                      type="number"
                      id="inventoryPrice"
                      placeholder="500"
                      min="0"
                      required
                      style="
                        width: 100%;
                        padding: 12px;
                        border: 2px solid #e2e8f0;
                        border-radius: 10px;
                        font-size: 14px;
                      "
                    />
                  </div>
                  <button type="submit" class="action-btn primary">
                    Add to Inventory
                  </button>
                </form>
                <div
                  id="inventoryMessage"
                  style="
                    margin-top: 16px;
                    padding: 12px;
                    border-radius: 10px;
                    display: none;
                  "
                ></div>
              </div>
            </div>

            <div class="panel">
              <div class="panel-header">
                <h2>ğŸ“Š Inventory Stats</h2>
              </div>
              <div class="panel-content">
                <div class="stat-row">
                  <span>Total Numbers</span>
                  <strong id="inventoryTotal">0</strong>
                </div>
                <div class="stat-row">
                  <span>Available Numbers</span>
                  <strong id="inventoryAvailable">0</strong>
                </div>
                <div class="stat-row">
                  <span>Used Numbers</span>
                  <strong id="inventoryUsed">0</strong>
                </div>
                <div class="stat-row">
                  <span>Expired Numbers</span>
                  <strong id="inventoryExpired">0</strong>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Chat Button -->
    <div class="chat-button">
      <svg viewBox="0 0 24 24">
        <path
          d="M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3 .97 4.29L2 22l5.71-.97C9 21.64 10.46 22 12 22c5.52 0 10-4.48 10-10S17.52 2 12 2zm0 18c-1.42 0-2.76-.3-3.97-.85l-.28-.14-2.9.49.49-2.9-.14-.28C4.3 14.76 4 13.42 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8-3.59 8-8 8z"
        />
      </svg>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2\"></script>
    <script src=\"../js/config.js\"></script>
    <script src=\"../js/supabase-config.js\"></script>
    <script src=\"../js/dashboard.js\"></script>
    <script src=\"../js/admin.js\"></script>
    <script src="../js/chatbot.js"></script>
  </body>
</html>
